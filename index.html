<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <title>Calculadora UK</title>
  </head>
  <body>
    <header class="container-md row p-3">
        <h1 class="text-center">Calculadora Materias UK</h1>
    </header>

    <div class="container-md row p-3">
      <ul class="list-group col p-3">
        <li class="list-group-item">
          Actividad 1:
          <input type="number" id="act1" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Actividad 2:
          <input type="number" id="act2" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Actividad 3:
          <input type="number" id="act3" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Actividad 4:
          <input type="number" id="act4" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Promedio Actividades: <span id="promActiv"></span>
        </li>
      </ul>
      <ul class="list-group col p-3">
        <li class="list-group-item">
          Foro 1:
          <input type="number" id="for1" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Foro 2:
          <input type="number" id="for2" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Foro 3:
          <input type="number" id="for3" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Foro 4:
          <input type="number" id="for4" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Promedio Foros: <span id="promFor"></span>
        </li>
      </ul>
      <ul class="list-group col p-3">
        <li class="list-group-item">
          Parcial 1:
          <input type="number" id="parc1" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Parcial 2:
          <input type="number" id="parc2" class="text-end" placeholder="0" />
        </li>
        <li class="list-group-item">
          Promedio Parciales: <span id="promParc"></span>
        </li>
      </ul>
    </div>
    <div class="container row col-3 mx-auto">
      <button  type="button" class="btn btn-primary btn-lg" id="calc" onclick="calcNota()">
        Calcular
      </button>
    </div>
    <div class="container" id="nota"></div>
    <div class="container" id="status"></div>
    <footer class="position-absolute bottom-0"><h6 class="align-bottom">Â©2024 R Herrainz | <a href="www.github.com/rherrainz">Github</a></h6></footer>

  </body>
  <script>
    const act1 = parseFloat(document.getElementById("act1").value);
    const act2 = parseFloat(document.getElementById("act2").value);
    const act3 = parseFloat(document.getElementById("act3").value);
    const act4 = parseFloat(document.getElementById("act4").value);
    const pActiv = (act1 + act2 + act3 + act4) / 4;

    const for1 = parseFloat(document.getElementById("for1").value);
    const for2 = parseFloat(document.getElementById("for2").value);
    const for3 = parseFloat(document.getElementById("for3").value);
    const for4 = parseFloat(document.getElementById("for4").value);
    const pFor = (for1 + for2 + for3 + for4) / 4;

    const parc1 = parseFloat(document.getElementById("parc1").value);
    const parc2 = parseFloat(document.getElementById("parc2").value);
    const pParc = (parc1 + parc2) / 2;

    const notaFinal = pActiv * 0.3 + pFor * 0.2 + pParc * 0.5;

    const promocion = () => {
      const act70 = () => {
        cantMen70=0;
        act1<70 ? cantMen70++:cantMen70+=0;
        act2<70 ? cantMen70++:cantMen70+=0;
        act3<70 ? cantMen70++:cantMen70+=0;
        act4<70 ? cantMen70++:cantMen70+=0;

        if(cantMen70<=1){
            return true;
        } else {
            return false;
        }
      }
      const for70 = () => {
        cantMen70=0;
        for1<70 ? cantMen70++:cantMen70+=0;
        for2<70 ? cantMen70++:cantMen70+=0;
        for3<70 ? cantMen70++:cantMen70+=0;
        for4<70 ? cantMen70++:cantMen70+=0;

        if(cantMen70<=1){
            return true;
        } else {
            return false;
        }
      }
      if(notaFinal>=70&&act70&&for70){
        return true;
      } else{
        return false;
      }
    };
    const regular = () => {
      const act40 = () => {
        cantMen40=0;
        act1<40 ? cantMen40++:cantMen40+=0;
        act2<40 ? cantMen40++:cantMen40+=0;
        act3<40 ? cantMen40++:cantMen40+=0;
        act4<40 ? cantMen40++:cantMen40+=0;

        if(cantMen40<=1){
            return true;
        } else {
            return false;
        }
      }
      const for40 = () => {
        cantMen40=0;
        for1<40 ? cantMen40++:cantMen40+=0;
        for2<40 ? cantMen40++:cantMen40+=0;
        for3<40 ? cantMen40++:cantMen40+=0;
        for4<40 ? cantMen40++:cantMen40+=0;

        if(cantMen40<=1){
            return true;
        } else {
            return false;
        }
      }
      if(notaFinal>=40&&act40&&for40){
        return true;
      } else{
        return false;
      }
    };
    

    const calcNota = () => {
      document.getElementById("nota").innerHTML =
        "La nota final es: " + notaFinal.toFixed(2);
      document.getElementById("promActiv").innerHTML = pActiv.toFixed(2);
      document.getElementById("promFor").innerHTML = pFor.toFixed(2);
      document.getElementById("promParc").innerHTML = pParc.toFixed(2);
      if(promocion()){
        document.getElementById("status").innerHTML = "<h2 class='text-success'>PROMOCIONADO</h2>"
    }else{
        if(regular()){
            document.getElementById("status").innerHTML = "<h2 class='text-secondary'>REGULAR</h2>"

        } else{
            document.getElementById("status").innerHTML = "<h2 class='text-danger'>LIBRE</h2>"

        }
    }

    };
  </script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
</html>
